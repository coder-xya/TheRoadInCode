# 开发任务文档

> 本目录包含项目的详细开发任务规划

---

## 🎓 学习者入口（推荐）

如果你是**初级开发者**，想通过这个项目学习全栈开发，请从这里开始：

**👉 [学习路径规划](./00-学习路径规划.md)**

这份文档为你设计了渐进式的学习计划，从环境搭建到完整功能实现，每个阶段都有明确的学习目标。

---

## 📋 文档结构

```
03_开发任务/
├── README.md                          # 本文件
├── 00-学习路径规划.md                  # 🎓 学习者专用：渐进式学习计划
├── M1-项目初始化与Entry基座.md        # 里程碑 1：基础架构搭建
├── M2-技术分享模块.md                  # 里程碑 2：文章功能（待创建）
├── M3-作品展示模块.md                  # 里程碑 3：作品功能（待创建）
├── M4-学习实验模块.md                  # 里程碑 4：实验功能（待创建）
├── M5-认证与评论.md                    # 里程碑 5：用户交互（待创建）
├── M6-搜索与SEO.md                     # 里程碑 6：优化功能（待创建）
└── M7-部署上线.md                      # 里程碑 7：生产部署（待创建）
```

---

## 🎯 里程碑规划总览

### ✅ M1: 项目初始化与统一内容基座 Entry

**状态**：进行中
**时间**：Week 1-2
**目标**：搭建 Monorepo 基础架构，实现统一内容基座 Entry 的 CRUD

**核心交付物**：

- PostgreSQL 数据库初始化（30+ 表）
- 统一内容基座 Entry CRUD API
- 版本管理 EntryRevision
- 简化版认证系统
- 前端基础路由和列表/详情页

**文档**：[M1-项目初始化与Entry基座.md](./M1-项目初始化与Entry基座.md)

---

### 📝 M2: 技术分享模块

**状态**：待开始
**时间**：Week 3-4
**依赖**：M1

**计划内容**：

- Post 扩展（category, readingTime）
- MDX 内容渲染与编译
- 代码片段库（Snippet + SnippetVersion）
- 系列文章（Series + SeriesItem）
- 标签与分类管理
- 代码高亮与复制功能

---

### 🎨 M3: 作品展示模块

**状态**：待开始
**时间**：Week 5
**依赖**：M1

**计划内容**：

- Work 扩展（type, status, role）
- 技术栈管理（Tech + WorkTech）
- 外链管理（WorkLink + 健康检查）
- 媒体画廊（WorkMedia）
- 开源贡献（Contribution）
- 作品卡片与网格布局

---

### 🔬 M4: 学习实验模块

**状态**：待开始
**时间**：Week 6
**依赖**：M1

**计划内容**：

- Experiment 扩展（goal, hypothesis, conclusion）
- 运行记录（ExperimentRun + parameters/results）
- 指标提取（ExperimentMetric）
- 对比分析（Comparison + 可视化）
- 笔记体系（Note + Notebook）
- 图表组件（性能对比、指标趋势）

---

### 👥 M5: 认证与评论

**状态**：待开始
**时间**：Week 7
**依赖**：M1

**计划内容**：

- Session 管理（Refresh Token 轮换）
- 匿名评论（审核机制）
- 嵌套回复（限制深度）
- 反垃圾与速率限制
- 评论管理界面
- （可选）OAuth 登录

---

### 🔍 M6: 搜索与 SEO

**状态**：待开始
**时间**：Week 8
**依赖**：M1, M2, M3, M4

**计划内容**：

- 全文搜索（PostgreSQL FTS + trigram）
- 搜索索引维护（EntrySearch）
- 统一搜索界面（Cmd+K 快捷搜索）
- RSS Feed 生成
- Sitemap 生成
- Open Graph 图片生成
- 结构化数据（JSON-LD）

---

### 🚀 M7: 部署上线

**状态**：待开始
**时间**：Week 9
**依赖**：M1-M6

**计划内容**：

- 生产环境配置
- 前后端部署（Vercel + Railway/VPS）
- 数据库迁移与备份策略
- 监控与日志（错误追踪）
- 性能优化（CDN、缓存）
- 安全加固（HTTPS、CSP、限流）

---

## 📖 如何使用本文档

### 1. 开始新里程碑

- 阅读对应的 `Mx-任务名.md` 文档
- 从「阶段 1」的第一个任务开始
- 按顺序完成每个任务

### 2. 任务完成标准

每个任务文档包含：

- **目标**：明确要达成的结果
- **步骤**：详细操作指南
- **验收标准**：完成检查清单
- **潜在问题**：常见问题与解决方案

### 3. 灵活调整

- 需求变化时更新文档
- 发现更好方案时调整计划
- 优先级可根据实际情况重排

### 4. 进度追踪

建议在每个任务文档开头添加：

```markdown
## 进度追踪

- [x] 任务 1.1：数据库初始化
- [x] 任务 1.2：共享类型包更新
- [ ] 任务 1.3：开发环境配置
      ...
```

---

## 🔗 相关文档

- [需求分析文档](../01_准备工作/requirements.md) - 完整的功能需求和数据模型定义
- [后端架构与API契约](../02_架构详解/12_后端架构与API契约.md) - Codex 生成的详细架构规划
- [项目路线图](../01_准备工作/roadmap.md) - 原始的高层规划

---

## 💡 开发原则

1. **小步快跑**：每个任务都能独立验证
2. **类型安全**：前后端共享类型定义
3. **测试先行**：关键功能有验收标准
4. **文档同步**：代码变更及时更新文档
5. **灵活应变**：需求变化时调整计划

---

## 🤝 协作方式

- **你**：编写代码实现
- **Claude**：提供指导、代码审查、架构建议
- **Codex/Gemini**：专项技术分析（按需）

---

**开始第一个任务吧！** 🚀

有任何问题随时在开发过程中提出。
