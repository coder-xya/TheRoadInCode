# 需求分析文档

## 1. 项目概述

### 1.1 项目名称
TheRoadInCode - 个人博客系统

### 1.2 项目定位
现代化个人博客系统，用于：
- **技术分享**：发布技术文章、教程、笔记
- **作品展示**：展示个人项目、开源贡献
- **实验平台**：技术探索、新框架/库试验

### 1.3 项目特点
- 学习导向：优先尝试最新技术栈
- 实验性质：允许激进的技术选型
- 个人使用：单用户博客，简化权限模型

---

## 2. 功能需求

### 2.1 内容管理

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 文章 CRUD | 创建、编辑、删除、发布文章 | P0 |
| Markdown/MDX | 支持 Markdown 写作，嵌入 React 组件 | P0 |
| 分类管理 | 文章分类（单选） | P0 |
| 标签管理 | 文章标签（多选） | P0 |
| 草稿箱 | 未发布文章管理 | P1 |
| 文章系列 | 系列文章关联 | P2 |

### 2.2 作品展示

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 作品列表 | 展示个人项目 | P0 |
| 作品详情 | 项目描述、技术栈、截图、链接 | P0 |
| 作品分类 | 按类型分类（Web/Mobile/CLI/Library） | P1 |

### 2.3 用户系统

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 管理员登录 | JWT 认证 | P0 |
| OAuth 登录 | GitHub/Google 第三方登录 | P1 |
| 访客评论 | 游客可评论（可选登录） | P2 |

### 2.4 交互功能

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 评论系统 | 文章评论、嵌套回复 | P1 |
| 全文搜索 | 文章内容搜索 | P1 |
| 阅读统计 | 文章浏览量 | P2 |
| 点赞/收藏 | 文章互动 | P2 |

### 2.5 辅助功能

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 关于页面 | 个人介绍 | P0 |
| RSS 订阅 | 文章 RSS Feed | P1 |
| 站点地图 | SEO Sitemap | P0 |
| 暗黑模式 | Dark/Light 主题切换 | P0 |

---

## 3. 非功能需求

### 3.1 性能
- 首屏加载 < 2s（LCP）
- 静态页面 SSG/ISR 生成
- 图片懒加载 + WebP 优化
- 代码分割按需加载

### 3.2 SEO
- 服务端渲染/静态生成
- Open Graph 元数据
- 动态 OG 图片生成
- 结构化数据（JSON-LD）

### 3.3 可访问性
- WCAG 2.1 AA 标准
- 键盘导航支持
- 屏幕阅读器兼容
- 高对比度模式

### 3.4 响应式
- 移动端优先设计
- 断点：sm(640) / md(768) / lg(1024) / xl(1280)

### 3.5 安全性
- JWT + HTTP-only Cookie
- CSRF 防护
- XSS 防护
- 速率限制

---

## 4. 用户角色

| 角色 | 权限 |
|------|------|
| 访客 | 浏览文章、作品、评论（可选） |
| 管理员 | 全部权限：内容管理、系统配置 |

---

## 5. 核心用例

### UC1: 访客浏览文章
1. 访客打开首页
2. 查看文章列表（支持分页）
3. 按分类/标签筛选
4. 点击进入文章详情
5. 阅读文章、查看评论

### UC2: 管理员发布文章
1. 管理员登录后台
2. 进入文章编辑器
3. 使用 Markdown/MDX 撰写
4. 设置分类、标签
5. 预览并发布

### UC3: 访客搜索文章
1. 访客点击搜索图标
2. 输入关键词
3. 查看搜索结果
4. 点击进入目标文章

---

## 6. 里程碑规划

| 阶段 | 内容 | 时间 |
|------|------|------|
| M1 | 项目初始化、基础架构 | Week 1 |
| M2 | 文章模块（CRUD + 展示） | Week 2-3 |
| M3 | 作品展示、关于页面 | Week 4 |
| M4 | 认证、评论、搜索 | Week 5-6 |
| M5 | SEO 优化、部署上线 | Week 7 |
