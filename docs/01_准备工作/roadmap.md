# 项目路线图

## 开发阶段规划

### 📅 M1: 项目初始化 (Week 1)

#### 任务清单

- [ ] **Monorepo 初始化**
  - 初始化 pnpm workspace
  - 配置 Turborepo
  - 设置共享 TypeScript 配置
  - 配置 ESLint + Prettier

- [ ] **Next.js 前端初始化**
  - 创建 Next.js 14 应用 (App Router)
  - 集成 TailwindCSS
  - 安装配置 Shadcn/ui
  - 设置主题系统 (next-themes)
  - 创建基础布局组件

- [ ] **NestJS 后端初始化**
  - 创建 NestJS 10 应用
  - 配置 Prisma + PostgreSQL
  - 设置环境变量管理
  - 配置全局管道、过滤器、拦截器

- [ ] **开发环境**
  - Docker Compose 配置 (PostgreSQL)
  - 配置 Husky + lint-staged
  - GitHub 仓库初始化

#### 交付物
- 可运行的 Monorepo 项目骨架
- 前后端 Hello World 页面
- 数据库连接成功

---

### 📅 M2: 核心内容模块 (Week 2-3)

#### 任务清单

- [ ] **数据库模型**
  - Post, Category, Tag, PostTag 模型
  - Prisma 迁移
  - Seed 脚本

- [ ] **后端 API**
  - Posts CRUD API
  - Categories CRUD API
  - Tags CRUD API
  - 分页、筛选、排序

- [ ] **前端页面**
  - 首页 (文章列表)
  - 文章详情页
  - 分类页面
  - 标签页面
  - MDX 渲染组件
  - 代码高亮 (Shiki)

- [ ] **SEO 基础**
  - 动态 Metadata
  - Sitemap 生成
  - RSS Feed

#### 交付物
- 完整的文章展示功能
- 分类/标签筛选
- SEO 友好的页面

---

### 📅 M3: 作品展示 & 静态页面 (Week 4)

#### 任务清单

- [ ] **作品模块**
  - Work 数据模型
  - Works CRUD API
  - 作品列表页
  - 作品详情页
  - 作品卡片组件

- [ ] **关于页面**
  - 个人介绍
  - 技能展示
  - 社交链接

- [ ] **UI 优化**
  - 响应式完善
  - 暗黑模式调优
  - 动画过渡效果
  - 加载骨架屏

#### 交付物
- 作品展示功能
- 完整的静态页面
- 优化的 UI/UX

---

### 📅 M4: 认证 & 交互功能 (Week 5-6)

#### 任务清单

- [ ] **认证系统**
  - JWT 认证实现
  - 登录/注册 API
  - Refresh Token 机制
  - GitHub OAuth (可选)

- [ ] **管理后台**
  - 后台布局
  - 文章管理 (CRUD 表单)
  - 作品管理
  - 分类/标签管理
  - Markdown 编辑器

- [ ] **评论系统**
  - Comment 模型
  - 评论 API
  - 评论组件
  - 嵌套回复

- [ ] **搜索功能**
  - 全文搜索 API
  - 搜索对话框 (Cmd+K)
  - 搜索结果页

#### 交付物
- 完整的认证流程
- 功能完备的管理后台
- 评论和搜索功能

---

### 📅 M5: 优化 & 部署 (Week 7)

#### 任务清单

- [ ] **性能优化**
  - 图片优化 (next/image)
  - 字体优化
  - 代码分割
  - ISR 配置调优

- [ ] **安全加固**
  - Rate Limiting
  - CORS 配置
  - 输入验证
  - XSS 防护

- [ ] **测试**
  - 后端单元测试
  - E2E 测试
  - 前端组件测试

- [ ] **部署**
  - Vercel 部署前端
  - Railway/Docker 部署后端
  - CI/CD 配置
  - 域名配置

- [ ] **监控 (可选)**
  - 错误追踪 (Sentry)
  - 分析统计 (Umami)

#### 交付物
- 生产就绪的应用
- 自动化部署流程
- 文档完善

---

## 优先级矩阵

| 优先级 | 功能 | 说明 |
|--------|------|------|
| P0 | 文章展示、分类/标签、主题切换 | 核心功能，必须实现 |
| P1 | 认证、管理后台、作品展示、SEO | 重要功能，优先实现 |
| P2 | 评论、搜索、RSS | 增强功能，按需实现 |
| P3 | 阅读统计、点赞、社交分享 | 可选功能，后期迭代 |

---

## 技术债务追踪

| 项目 | 描述 | 优先级 |
|------|------|--------|
| - | 待开发过程中记录 | - |

---

## 风险与缓解

| 风险 | 影响 | 缓解措施 |
|------|------|----------|
| 新技术学习曲线 | 开发速度 | 预留学习时间，参考官方文档 |
| 部署环境差异 | 稳定性 | Docker 统一环境，充分测试 |
| 数据库设计变更 | 重构成本 | 早期确定核心模型，Prisma 迁移管理 |
